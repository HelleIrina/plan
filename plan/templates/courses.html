{% load color %}

<form action="{% url change-course semester.year,semester.get_type_display,slug %}" method="post">
    <h2>Courses</h2>
    {% if courses %}
        <table>
            <thead>
                <tr>
                    {% if advanced %}
                        <th style="width:  5%"></th>
                    {% endif %}
                    <th style="width: 18%">Course</th>
                    <th>Alias</th>
                    <th>Description</th>
                    <th style="width: 10%">Credits</th>
                </tr>
            </thead>
            <tbody>
                {% for course in courses %}
                    <tr class="{% color course.id %}" title="{{ course.full_name }}">
                        {% if advanced %}
                            <td>
                                <input type="checkbox" name="course_remove" value="{{ course.id }}" class="noprint" />
                            </td>
                        {% endif %}
                        <td>
                            {% if course.url %}
                                <a href="{{ course.get_url }}">
                                    {{ course }}
                                </a>
                            {% else %}
                                {{ course }}
                            {% endif %}
                        </td>
                        <td>
                            {% if course.name_form %}
                                {{ course.name_form.name }}
                            {% else %}
                                {{ course.user_name|default:"-" }}
                            {% endif %}
                        </td>
                        <td>
                            {{ course.full_name }}
                        </td>
                        <td align="right">
                            {{ course.points|default:""|floatformat:"1" }}
                        </td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>
    {% endif %}


    {% if courses and advanced %}
        <p class="noprint">
            <button name="submit_name" type="submit"><img alt="" src="{{ MEDIA_URL }}gfx/name.png" /> Update names</button>
            <button name="submit_remove" type="submit"><img alt="" src="{{ MEDIA_URL }}gfx/remove.png" /> Remove selected</button>
        </p>
    {% else %}
        <p class="noprint">
            Go to <a href="{% url schedule-advanced semester.year,semester.get_type_display,slug %}">advanced options</a>
            to add and remove courses.
        </p>
    {% endif %}
</form>
