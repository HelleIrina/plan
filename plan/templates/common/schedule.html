{% extends "base.html" %}

{% block title %}
    {{ block.super }} - {{ slug }} {{ semester }} {{ year }}
{% endblock %}

{% block content %}

<table class="schedule">
    <thead>
        <th class="time"></th>
        <th colspan="{{ colspan.0 }}">Mandag</th>
        <th colspan="{{ colspan.1 }}">Tirsdag</th>
        <th colspan="{{ colspan.2 }}">Onsdag</th>
        <th colspan="{{ colspan.3 }}">Torsdag</th>
        <th colspan="{{ colspan.4 }}">Fredeag</th>
    </thead>
    <tbody>
    {% for row in table %}
        <tr class="{% cycle odd,even %}">
            {% for cells in row %}
                {% if cells %}
                    {% for c in cells %}
                        {% if not c.remove %}
                            <td colspan="{{ c.colspan|default:"1" }}" rowspan="{{ c.rowspan|default:"1" }}" class="{% if forloop.first %}first {% endif %}{{ c.class }}">
                                {% if c.lecture %}
                                    <span class="course">{{ c.lecture.course }}</span>
                                    <span class="room">{{ c.lecture.room }}</span>
                                {% endif %}
                                {% if c.time %}
                                    {{ c.time }}
                                {% endif %}
                            </td>
                        {% endif %}
                    {% endfor %}
                {% else %}
                    <td></td>
                {% endif %}
            {% endfor %}
        </tr>
    {% endfor %}

    </tbody>
</table>

<p>
    {% for course,class in legend %}
        {% if course.url %}
            <a href="{{ course.url }}" class="{{ class }} legend">{{ course }}</a>
        {% else %}
            <span class="{{ class }} legend">{{ course }}</span>
        {% endif %}
    {% endfor %}
</p>

{% endblock %}
